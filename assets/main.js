const scheduleOnDOMLoad = (callback) => {if (document.readyState === "loading") {document.addEventListener("DOMContentLoaded", callback);} else {callback();}};const themeKey = "_theme";const toggleTheme = () => setTheme(getTheme() === "light" ? "dark" : "light");const getTheme = () => localStorage.getItem(themeKey) || (window.matchMedia("(prefers-color-scheme: light)").matches ? "light" : "dark");const setTheme = (theme) => {document.documentElement.setAttribute("data-theme", theme);localStorage.setItem(themeKey, theme);};scheduleOnDOMLoad(() => document.documentElement.setAttribute("data-theme", getTheme()));let colors = {};let classIndex = [];let resolveClassIndexPromise;const initialIndexLoadPromise = new Promise((resolve, _) => (resolveClassIndexPromise = resolve));const updateClassIndex = (indexString) => {indexString = indexString.replaceAll("%nm", "net/minecraft").replaceAll("%cm", "com/mojang");const header = [];for (const line of indexString.match(/[^\r\n]+/g)) {if (header.length === 0) {for (const col of line.split("\t")) {const colParts = col.split(":", 2);header.push(colParts[0]);colors[colParts[0]] = colParts[1];}} else {const obj = {};for (const [index, col] of line.split("\t", header.length).entries()) {obj[header[index]] = col || null;}classIndex.push(obj);}}resolveClassIndexPromise();};if (window.root) {const indexScript = document.createElement("script");indexScript.async = true;indexScript.src = `${window.root}class-index.js`;document.head.appendChild(indexScript);}const searchNamespacesKey = "_namespaces";const getStoredSearchNamespaces = () => {const nsString = localStorage.getItem(searchNamespacesKey);return nsString ? nsString.split(",") : (nsString != null ? [] : null);};let searchNamespaces = getStoredSearchNamespaces();const updateSearchNamespaces = (newNamespaces) => {searchNamespaces = newNamespaces;localStorage.setItem(searchNamespacesKey, newNamespaces.join(","));};const search = (query) => {const resultsBox = document.getElementById("search-results-box");query = query.replaceAll(".", "/").toLowerCase().trim();if (!query) {resultsBox.replaceChildren();return;}const results = [];const hasPackage = query.includes("/");klassLoop:for (const klass of classIndex) {for (const ns in klass) {if (!searchNamespaces.includes(ns)) continue;const klassName = klass[ns];if (klassName) {if (!klassName.toLowerCase().includes(query)) continue;const lastSlashIndex = klassName.lastIndexOf("/");const simpleName = lastSlashIndex !== -1 ? klassName.substring(lastSlashIndex + 1) : klassName;if (!hasPackage && !simpleName.toLowerCase().includes(query)) continue;results.push({klass: klass,ns: ns,simpleName: simpleName,packageName: lastSlashIndex !== -1 ? klassName.substring(0, lastSlashIndex).replaceAll("/", ".") : null,similarity: (hasPackage ? klassName.length : simpleName.length) - query.length});continue klassLoop;}}}results.sort((a, b) => a.similarity - b.similarity);resultsBox.replaceChildren(...(results.slice(0, Math.min(results.length, 50 + 1 )).map((r) => {const resultWrap = document.createElement("a");resultWrap.href = `${window.root}${Object.values(r.klass).find((e) => e != null)}.html`;resultWrap.style.textDecoration = "none";const resultElem = document.createElement("div");resultElem.classList.add("search-result");const title = document.createElement("p");title.classList.add("search-result-title");title.innerText = r.simpleName;resultElem.appendChild(title);if (r.packageName) {const packageSubtitle = document.createElement("p");packageSubtitle.classList.add("search-result-subtitle");packageSubtitle.innerText = `package: ${r.packageName}`;packageSubtitle.innerHTML = packageSubtitle.innerHTML.replaceAll(".", ".<wbr>");resultElem.appendChild(packageSubtitle);}const nsSubtitle = document.createElement("p");nsSubtitle.classList.add("search-result-subtitle");nsSubtitle.appendChild(document.createTextNode("namespace: "));const nsSubtitleBadge = document.createElement("span");nsSubtitleBadge.classList.add("search-badge-text");nsSubtitleBadge.style.color = colors[r.ns];nsSubtitleBadge.innerText = r.ns;nsSubtitle.appendChild(nsSubtitleBadge);resultElem.appendChild(nsSubtitle);resultWrap.appendChild(resultElem);return resultWrap;})));};const toggleOptions = () => {const optionBox = document.getElementById("option-box");optionBox.style.display = optionBox.style.display === "grid" ? "none" : "grid";};const updateOptions = () => {const searchInput = document.getElementById("search-input");const optionBox = document.getElementById("option-box");if (!searchNamespaces) {searchNamespaces = Object.keys(colors);}optionBox.replaceChildren(...(Object.entries(colors).map(([ns, color]) => {const labelTarget = `checkbox-${ns.toLowerCase()}`;const checkboxWrap = document.createElement("div");checkboxWrap.style.display = "flex";const inputElem = document.createElement("input");inputElem.type = "checkbox";inputElem.id = labelTarget;inputElem.checked = searchNamespaces.includes(ns);inputElem.addEventListener("change", () => {updateSearchNamespaces(inputElem.checked ? [...searchNamespaces, ns] : searchNamespaces.filter((e) => e !== ns));searchInput.dispatchEvent(new Event("input"));});checkboxWrap.appendChild(inputElem);const labelElem = document.createElement("label");labelElem.htmlFor = labelTarget;labelElem.style.color = color;labelElem.classList.add("search-badge-text");labelElem.appendChild(document.createTextNode(ns));checkboxWrap.appendChild(labelElem);return checkboxWrap;})));};const replaceComponent = (tag, component, callback) => {for (const e of document.getElementsByTagName(tag)) {if (e.children.length === 0) {const template = document.createElement("template");template.innerHTML = component;const newElem = template.content.firstElementChild.cloneNode(true);e.replaceWith(newElem);callback(newElem);}}};const navComponent = `<nav><div class="AL"><a class="AM" href="/index.html">mappings</a><div class="AN"><a class="AO" href="#" id="overview-link">Overview</a><a class="AO" href="#" id="licenses-link">Licenses</a></div></div><div class="AP"><div class="AQ"><input class="AR" id="search-input" placeholder="Type a package name..." spellcheck="false" type="text"><p class="AS" onclick="toggleTheme()"><svg xmlns="http://www.w3.org/2000/svg" fill="none" height="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="20"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></p></div><div class="AT" id="search-box" style="display:none"><div class="AU" onclick="toggleOptions()"><p>Namespaces</p><p><svg fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="16"><polyline points="6 9 12 15 18 9"></polyline></svg></p></div><div class="AV" id="option-box" style="display:none"></div><div id="search-results-box"></div></div></div></nav>`;const navComponentCallback = (e) => {const overviewLink = document.getElementById("overview-link");const licensesLink = document.getElementById("licenses-link");const searchInput = document.getElementById("search-input");const searchBox = document.getElementById("search-box");if (window.root) {overviewLink.href = `${window.root}index.html`;licensesLink.href = `${window.root}licenses.html`;searchInput.addEventListener("input", (evt) => search(evt.target.value));document.addEventListener("mouseup", (evt) => {searchBox.style.display = !searchInput.contains(evt.target) && !searchBox.contains(evt.target) ? "none" : "block";});initialIndexLoadPromise.then(updateOptions);} else {overviewLink.remove();licensesLink.remove();searchInput.remove();searchBox.remove();e.dataset.collapsed = "true";}};const footerComponent = `<footer><p class="P"></p><div class="AW"><p>Built with lots of coffee and ❤️, for people by people.</p><a aria-label="GitHub" class="AX" href="https://github.com/zlataovce/takenaka"><svg xmlns="http://www.w3.org/2000/svg" fill="none" height="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="20"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div></footer>`;const footerComponentCallback = (e) => {};scheduleOnDOMLoad(() => {replaceComponent("nav", navComponent, navComponentCallback);replaceComponent("footer", footerComponent, footerComponentCallback);});